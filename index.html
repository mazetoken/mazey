<!DOCTYPE html>
<html lang="en">
<head>
  	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
  	<title>Mazey wallet</title>
	<meta name="description" content="Mazey Bitcoin Cash CashTokens mini wallet">
  	<meta name="web" content="https://mazetoken.github.io/mazey/">
	<style>
		body {
			text-align: center;
			overflow-wrap: anywhere;
			max-width: 800px;
			margin: auto;
			font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
			background-color: black;
			font-size: large;
			color: whitesmoke;
		}
		p {
			font-size: 14px;
		}
		a:link {
			color: #0AC18E;
			background-color: transparent;
			text-decoration: none;
		}
		a:visited {
			color: #0AC18E;
			background-color: transparent;
			text-decoration: none;
		}
		.collapsible {
			background-color: #0AC18E;
			border-radius: 12px;
			font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
			color: white;
			cursor: pointer;
			padding: 18px;
			width: 50%;
			border: none;
			text-align: center;
			outline: none;
			font-size: 14px;
		}
		.active, .collapsible:hover {
			background-color: #0AC18E;
		}
		.content {
			padding: 0 16px;
			display: none;
			overflow: hidden;
			background-color: black;
		}
		@media screen and (max-width: 512px) {
		}
	</style>
	<script defer src="https://cdn.jsdelivr.net/npm/mainnet-js@1.1.31/dist/mainnet-1.1.31.js" integrity="sha256-rmOpIf/WGsAIIHtE8D7zTWOhHKo/ZMW730ROMPLWZCI=" crossorigin="anonymous"></script>
</head>
<body>
	<div>
		<h1>MAZEy</h1>
		<h3>Bitcoin Cash <a href="https://cashtokens.org">CashTokens</a> mini wallet</h3>
		<p>It can be used locally, on a pendrive, SD card, floppy disk, etc.<br>
			Clear local storage if the wallet is being used on someone else's device or if you want to create a new wallet.
		</p>
		<p>The wallet also supports CRC20 CashTokens.</p>
		<p>MAZEy wallet is under development. Viewing and sending NFT CashTokens is not fully implemented.<br>
			Use it at your own risk and with small amount of BCH.
		</p>
		<br>
		<hr>
		<div>
			<button type="button" class="collapsible">Create or import a wallet</button>
			<div class="content">
				<p>Create a new wallet:</p>
				<p><button type="button" id="create">Create</button></p>
				<p>Import a wallet from seed phrase or private key:</p>
				<p><input id="importSeedPhrase" type="text" size="50" placeholder="seed phrase"></p>
				<p>or</p>
				<p><input id="importPrivateKey" type="text" size="50" placeholder="private key (WIF)"></p>
				<p><button type="button" id="import">Import</button></p>
				<p id="alert1"></p>
			</div>
		</div>
		<hr>
		<div>
			<button type="button" class="collapsible">Open wallet</button>
			<div class="content">
				<p><button type="button" id="open">Open</button></p>
				<p id="bchaddress2"></p> 
				<p id="cashtokensaddress2"></p>
				<p id="bchbalance2"></p>
				<p id="mnemonic2"></p>
				<p id="derivation2"></p>
				<p id="privatekey2"></p>
				<p id="tokens2"></p>
				<p id="nfts2"></p>
				<p>To update your balances, refresh the page and open the wallet again.</p>
				<p><button type="button" id="refresh">Refresh</button></p>
			</div>
		</div>
		<hr>
		<div>
			<button type="button" class="collapsible">Clear local storage</button>
			<div class="content">
				<p><button type="button" id="clear">Clear</button></p>
				<p>The wallet will be deleted - the seed phrase / private key will be removed from the local storage of the browser.</p>
				<p id="alert2"></p>
			</div>
		</div>
		<hr>
		<div>
			<button type="button" class="collapsible">View token details</button>
			<div class="content">
				<p>Choose metadata registry from the list.<br>
					If custom BCMR is selected, paste url in the input field.
				</p>
				<select id="bcmrList">
					<option value="https://mazetoken.github.io/.well-known/bitcoin-cash-metadata-registry.json">Maze Token MTU BCMR</option>
					<option value="https://mazetoken.github.io/darklabs/bcmr/darklabsbcmr.json">Dark Labs CRC20 BCMR</option>
					<option value="https://mazetoken.github.io/.well-known/crc20tobcmr.json">CRC20-to-BCMR</option>
					<option value="https://otr.cash/.well-known/bitcoin-cash-metadata-registry.json">Open Token Registry</option>
					<option value="">custom BCMR</option>
				</select>
				<p><input id="bcmrCustom" type="text" size="50" placeholder="custom BCMR"></p>
				<p><input id="viewTokenId" type="text" size="50" placeholder="tokenId"></p>
				<p><button type="button" id="viewTokens">View</button></p>
				<p id="tokencategory3"></p>
				<p id="tokenname3"></p>
				<p id="tokensymbol3"></p>
				<p id="tokendecimals3"></p>
				<p id="tokendescription3"></p>
				<img src id="tokenicon3" width="150"></p>
			
				<p>on-chain BCMR (AuthChain)</p>
				<p><input id="viewTokenId1" type="text" size="50" placeholder="tokenId"></p>
				<p><button type="button" id="viewTokens1">View</button></p>
				<p><i>Wait a few seconds</i></p>
				<p id="tokencategory4"></p>
				<p id="tokenname4"></p>
				<p id="tokensymbol4"></p>
				<p id="tokendecimals4"></p>
				<p id="tokendescription4"></p>
				<img src id="tokenicon4" width="150"></p>

				<p>Paytaca api</p>
				<p><input id="viewTokenId2" type="text" size="50" placeholder="tokenId"></p>
				<p><button type="button" id="viewTokens2">View</button></p>
				<p id="tokenapi"></p>
			</div>
		</div>
		<hr>
		<div>
			<button type="button" class="collapsible">Send BCH</button>
			<div class="content">
				<p><input id="sendAddr" type="text" size="50" placeholder="bitcoincash:q... or bitcoincash:z..."></p>
				<p><input id="sendAmount" type="text" size="50" placeholder="amount in satoshis"></p>
				<p><button id="sendBCH">Send BCH</button></p>
				<p id="bchsent"></p>
				<img src id="imagetxid1" width="150"></p>
			</div>
		</div>
		<hr>
		<div>
			<button type="button" class="collapsible">Send fungible CashTokens</button>
			<div class="content">
				<p><input id="sendAddrToken" type="text" size="50" placeholder="bitcoincash:z..."></p>
				<p><input id="sendAmountToken" type="text" size="50" placeholder="amount with decimal places eg. 10000 is 100 with 2 decimals"></p>
				<p><input id="sendTokenId" type="text" size="50" placeholder="tokenId"></p>
				<p><button type="button" id="sendTokens">Send tokens</button></p>
				<p id="ftsent"></p>
				<img src id="imagetxid2" width="150"></p>
			</div>
		</div>
		<hr>
		<div>
			<button type="button" class="collapsible">Send NFT CashTokens</button>
			<div class="content">
				<p><input id="sendAddrToken1" type="text" size="50" placeholder="bitcoincash:z..."></p>
				<p><input id="sendNftTokenId" type="text" size="50" placeholder="tokenId"></p>
				<p><input id="nftCommitment" type="text" size="50" placeholder="NFT commitment"></p>
				<p><button type="button" id="sendNfts">Send NFTs</button></p>
				<p id="nftsent"></p>
				<img src id="imagetxid3" width="150"></p>
			</div>
		</div>
		<hr>
		<div>
			<button type="button" class="collapsible">CashTokens paper wallet</button>
			<div class="content">
				<p>Generate <a href="./paperwallet/">paper wallet</a></p>
				<p><input id="sweepPk" type="text" size="50" placeholder="Paste a paper wallet private key here"></p>
				<p><button id="balancePw">Check paper wallet balance</button></p>
				<p id="bchbalancePw"></p>
				<p id="tokenbalancePw"></p>
				<p>Before sweeping, you can create a Mazey wallet or import an existing wallet into Mazey or simply use your favorite BCH wallet address in the recipient field.</p>
				<!-- <p><input id="sendAmountPw" type="text" size="50" placeholder="BCH balance in satoshis"></p>
				<p><input id="sendTokenIdPw" type="text" size="50" placeholder="tokenId"></p>
				<p><input id="sendTokenAmountPw" type="text" size="50" placeholder="Token balance"></p> -->
				<p><input id="recipientAddress" type="text" size="50" placeholder="recipient address bitcoincash:..."></p>
				<p><button id="sweepPw">Sweep tokens and BCH</button> * if paper wallet has tokens and BCH</p>
				<p><button id="sweepPwBch">Sweep BCH</button> * if paper wallet has only BCH</p>
				<p id="swept"></p>
				<img src id="imagetxid4" width="150"></p>
			</div>
		</div>
		<hr>
		<div>
			<button type="button" class="collapsible">Payment request url (BCH only)</button>
			<div class="content">
				<p><input id="address" type="text" size="50" placeholder="address e.g. bitcoincash:qzud8n6jjjukefrswrqlvwwk8l6wv7435yg56xw20s"></p>
				<p><input id="amount" type="text" size="50" placeholder="amount e.g. 0.0001"></p>
				<p><input id="label" type="text" size="50" placeholder="some text"></p>
				<p><button type="button" id="createPaymentRequest">Create payment url</button></p>
				<p id="payurl"></p>
				
				<p><input id="upayurl" type="text" size="50" placeholder="payment request url"></p>
				<p><button type="button" id="usePaymentRequest">Use payment url</button> * with an external wallet</p>
				<p id="usepayurl"></p>
			</div>
		</div>
		<hr>
		<div>
			<button type="button" class="collapsible">Sign or verify a message</button>
			<div class="content">
				<p><input id="smessage" type="text" size="50" placeholder="message"></p>
				<p><button type="button" id="signM">Sign a message</button> * with MAZEy wallet</p>
				<p id="signMessage"></p>
				
				<p><input id="vaddress" type="text" size="50" placeholder="signing address"></p>
				<p><input id="signH" type="text" size="50" placeholder="signature"></p>
				<p><button type="button" id="verifyM">Verify a message</button></p>
				<p id="verifyMessage"></p>
			</div>
		</div>
		<hr>
		<br>
		<footer>
			<p><a href="https://github.com/mazetoken/mazey/">Github</a> | <a href="https://t.me/mazetokens/">Telegram</a></p>
			<p>Check:<br><a href="https://microfi.eu">Microfi Free Flow</a> CashTokens and<br>
				<a href="https://mazetoken.github.io/darklabs/">Dark Labs</a> CRC20 CashTokens
			</p>
			<p>Credits: <a href="https://mainnet.cash">mainnet.cash</a> | <a href="https://cashonize.com">Cashonize</a> | <a href="https://bcmr.paytaca.com/api/">Paytaca api</a>
				| <a href="https://gitlab.com/0353F40E/crc20-to-bcmr/-/blob/master/bcmr/bitcoin-cash-metadata-registry.json">crc2-to-bcmr</a> | <a href="https://www.figma.com/community/file/966199982810283152/Croodles---Doodle-your-face">Croodles</a>
			</p>
			<p>MAZEy on <a href="https://mazetoken.github.io/mazey/testnet/">testnet</a></p>
			<p>Maze Tokens Underworld, 2023</p>
		</footer>
		<br>
	</div>

	<script>
		var coll = document.getElementsByClassName("collapsible");
		var i;
		for (i = 0; i < coll.length; i++) {
		  coll[i].addEventListener("click", function() {
			this.classList.toggle("active");
			var content = this.nextElementSibling;
			if (content.style.display === "block") {
			  content.style.display = "none";
			} else {
			  content.style.display = "block";
			}
		  });
		}
	</script>

	<script>
	document.addEventListener("DOMContentLoaded", async (event) => {
		globalThis.exports = globalThis.exports || {};
		Object.assign(globalThis, await __mainnetPromise);
		Config.DefaultParentDerivationPath = "m/44'/145'/0'/0/0";
		//Config.DefaultParentDerivationPath = "m/44'/145'/0'";
		//Config.EnforceCashTokenReceiptAddresses = true;

		document.getElementById("create").onclick = async () => {
			const wallet = await Wallet.named("mazey");
			//const wallet = await Wallet.newRandom();
			localStorage.setItem("seed", wallet.mnemonic);
			localStorage.setItem("wif", wallet.privateKeyWif);
			alert("Done. You can open the wallet. Save the seed phrase and private key.");
			document.getElementById("alert1").textContent = "Done. You can open the wallet. Save the seed phrase and private key.";
		};

		document.getElementById("import").onclick = async () => {
			const seedphrase = document.querySelector("#importSeedPhrase").value;
			localStorage.setItem("seed", seedphrase);
			const privatekey = document.querySelector("#importPrivateKey").value;
			localStorage.setItem("wif", privatekey);
			alert("Done. The wallet is imported. You can open the wallet.");
			document.getElementById("alert1").textContent = "Done. The wallet is imported. You can open the wallet.";
		}

		document.getElementById("open").onclick = async () => {
			var wallet = await Wallet.named("mazey");
			const sd = localStorage.getItem("seed");
			const derivationPath = "m/44'/145'/0'/0/0";
			//const derivationPath = "m/44'/145'/0'";
			var walletId1 = `seed:mainnet:${sd}:${derivationPath}`;
			const pk = localStorage.getItem("wif");
			var walletId2 = `wif:mainnet:${pk}`;
			if (wallet = sd) {
				var wallet = await Wallet.replaceNamed("mazey", walletId1);
			} else if (wallet = pk) {
				var wallet = await Wallet.replaceNamed("mazey", walletId2);
			}
			const tokenAddress = await wallet.getTokenDepositAddress();
			let tokensAddressBalance = await wallet.getAllTokenBalances();
			let nftsAddressBalance = await wallet.getAllNftTokenBalances();
			const bchAddress = await wallet.getDepositAddress();
			let bchBalance = await wallet.getBalance();
			
			document.getElementById("bchaddress2").textContent = "BCH address: " + bchAddress;
			document.getElementById("cashtokensaddress2").textContent = "CashTokens address: " + tokenAddress;
			document.getElementById("bchbalance2").textContent = "BCH balance: " + JSON.stringify(bchBalance);
			document.getElementById("mnemonic2").textContent = "Seed phrase: " + wallet.mnemonic;
			document.getElementById("derivation2").textContent = "Derivation path: " + wallet.derivationPath;
			document.getElementById("privatekey2").textContent ="Private key: " + wallet.privateKeyWif;
			document.getElementById("tokens2").textContent = "Tokens: " + JSON.stringify(tokensAddressBalance, null, "\t");
			document.getElementById("nfts2").textContent = "NFTs: " + JSON.stringify(nftsAddressBalance, null, "\t");
		};

		document.getElementById("refresh").onclick = async () => {
			location.reload();
		}

		document.getElementById("clear").onclick = async () => {
			indexedDB.deleteDatabase("bitcoincash");
			//localStorage.clear();
			localStorage.removeItem("seed");
			localStorage.removeItem("wif");
			alert("Seed phrase / private key were removed. You have to import a wallet again.");
			document.getElementById("alert2").textContent = "Seed phrase / private key were removed. You have to import a wallet again.";
			location.reload();
		}

		document.getElementById("viewTokens").onclick = async () => {
			const bcmrList = document.querySelector("#bcmrList").value;
			const bcmrCustom = document.querySelector("#bcmrCustom").value;
			if (bcmrUrl = bcmrList) {
			await BCMR.addMetadataRegistryFromUri(bcmrList);
			} else if (bcmrUrl = bcmrCustom) {
			await BCMR.addMetadataRegistryFromUri(bcmrCustom);
			}
			const viewTokenId = document.querySelector("#viewTokenId").value;
			const tokenInfo = BCMR.getTokenInfo(viewTokenId);
			document.getElementById("tokencategory3").textContent = "Category/tokenId: " + tokenInfo.token.category;
			document.getElementById("tokenname3").textContent = "Name: " + tokenInfo.name;
			document.getElementById("tokensymbol3").textContent = "Symbol: " + tokenInfo.token.symbol;
			document.getElementById("tokendecimals3").textContent = "Decimals: " + tokenInfo.token.decimals;
			document.getElementById("tokendescription3").textContent = "Description: " + tokenInfo.description;
			document.getElementById("tokenicon3").src = tokenInfo.uris.icon;
		};

		document.getElementById("viewTokens1").onclick = async () => {
			const viewTokenId1 = document.querySelector("#viewTokenId1").value;
			const authChain = await BCMR.buildAuthChain({
				transactionHash: viewTokenId1,
				followToHead: true
			});
			if (authChain[0]) {
			try {
				await BCMR.addMetadataRegistryFromUri(authChain[0].httpsUrl);
			} catch (error) { alert(error) }
			}
			const tokenInfo = BCMR.getTokenInfo(viewTokenId1);
			document.getElementById("tokencategory4").textContent = "Category/tokenId: " + tokenInfo.token.category;
			document.getElementById("tokenname4").textContent = "Name: " + tokenInfo.name;
			document.getElementById("tokensymbol4").textContent = "Symbol: " + tokenInfo.token.symbol;
			document.getElementById("tokendecimals4").textContent = "Decimals: " + tokenInfo.token.decimals;
			document.getElementById("tokendescription4").textContent = "Description: " + tokenInfo.description;
			document.getElementById("tokenicon4").src = tokenInfo.uris.icon;
		};

		document.getElementById("viewTokens2").onclick = async () => {
			const viewTokenId2 = document.querySelector("#viewTokenId2").value;
			const apiUrl = "https://bcmr.paytaca.com/api/tokens/" + viewTokenId2;
			fetch(apiUrl)
				.then(response => response.json())
				.then(data => document.getElementById("tokenapi").textContent = 
				data.name + " " + data.token.symbol + " " + "| Decimals: " + data.token.decimals + " " + "| Description: " + data.description + " " + " " + "| Web: " + data.uris.web + " " + "| Icon: " + data.uris.icon
				);
		};

		document.getElementById("sendBCH").onclick = async () => {
			try {
			const bchAddress = document.querySelector("#sendAddr").value;
			const bchAmount = document.querySelector("#sendAmount").value;
			const wallet = await Wallet.named("mazey");
			const { txId } = await wallet.send([
				{
				cashaddr: bchAddress,
				value: bchAmount,
				unit: "sat"
				}
			]);
			document.getElementById("bchsent").textContent = "txId: " + txId;
			document.getElementById("imagetxid1").src = "https://api.dicebear.com/6.x/croodles/svg?seed=" + txId + "&backgroundColor=ffffff";
			} catch (error) { alert(error) }
		};

		document.getElementById("sendTokens").onclick = async () => {
			try {
			const tokenAddress = document.querySelector("#sendAddrToken").value;
			const tokenAmount = document.querySelector("#sendAmountToken").value;
			const token = document.querySelector("#sendTokenId").value;
			const wallet = await Wallet.named("mazey");
			const { txId } = await wallet.send([new TokenSendRequest(
				{
				cashaddr: tokenAddress,
				amount: tokenAmount,
				tokenId: token
				}
			)]);
			document.getElementById("ftsent").textContent = "txId: " + txId;
			document.getElementById("imagetxid2").src = "https://api.dicebear.com/6.x/croodles/svg?seed=" + txId + "&backgroundColor=ffffff";
			} catch (error) { alert(error) }
		};

		document.getElementById("sendNfts").onclick = async () => {
			try {
			const tokenAddress = document.querySelector("#sendAddrToken1").value;
			const token1 = document.querySelector("#sendNftTokenId").value;
			const nftCommitment = document.querySelector("#nftCommitment").value;
			const wallet = await Wallet.named("mazey");
			const { txId } = await wallet.send([new TokenSendRequest(
				{
				cashaddr: tokenAddress,
				tokenId: token1,
				commitment: nftCommitment,
				capability: NFTCapability.none
				}
			)]);
			document.getElementById("nftsent").textContent = "txId: " + txId;
			document.getElementById("imagetxid3").src = "https://api.dicebear.com/6.x/croodles/svg?seed=" + txId + "&backgroundColor=ffffff";
			} catch (error) { alert(error) }
		};

		document.getElementById("balancePw").onclick = async () => {
			try {
			const sweepPk = document.querySelector("#sweepPk").value;
			var tempWallet = await Wallet.fromWIF(sweepPk);
			let bchBalancePw = await tempWallet.getBalance();
			let tokensAddressBalancePw = await tempWallet.getAllTokenBalances();
			document.getElementById("bchbalancePw").textContent = "BCH balance: " + JSON.stringify(bchBalancePw);
			document.getElementById("tokenbalancePw").textContent = "Token balance: " + JSON.stringify(tokensAddressBalancePw);
			} catch (error) { alert(error) }
		};

		document.getElementById("sweepPw").onclick = async () => {
			try {
			var wallet = await Wallet.named("mazey");
			const sweepPk = document.querySelector("#sweepPk").value;
			//const bchAmountPw = document.querySelector("#sendAmountPw").value;
			//const tokenIdPw = document.querySelector("#sendTokenIdPw").value;
			//const tokenAmountPw = document.querySelector("#sendTokenAmountPw").value;
			const recipientPw = document.querySelector("#recipientAddress").value;
			var tempWallet = await Wallet.fromWIF(sweepPk);
			
			let bchBalancePw = await tempWallet.getBalance();
			bchBalanceObj = Object.values({...bchBalancePw});
			//console.log(bchBalanceObj[1]);
			let bchBal = bchBalanceObj[1];
			
			let tokensAddressBalancePw = await tempWallet.getAllTokenBalances();
			tokenCategoriesObj = Object.keys({...tokensAddressBalancePw});
			//console.log(tokenCategoriesObj[0]);
			let tokenCat = tokenCategoriesObj[0];
			tokenAmountsObj = Object.values({...tokensAddressBalancePw});
			//console.log(tokenAmountsObj[0]);
			let tokenAmo = tokenAmountsObj[0];
				const { txId } = await tempWallet.send([
					{
					//cashaddr: wallet.getDepositAddress(),
					//value: bchAmountPw - 800,
					cashaddr: recipientPw,
					value: bchBal - 800,
					unit: "sat",
					},
					new TokenSendRequest(
					{
					//cashaddr: wallet.getTokenDepositAddress(),
					//amount: tokenAmountPw,
					//tokenId: tokenIdPw,
					cashaddr: recipientPw,
					amount: tokenAmo,
					tokenId: tokenCat,
					}),
				]);
			document.getElementById("swept").textContent = "txId: " + txId;
			document.getElementById("imagetxid4").src = "https://api.dicebear.com/6.x/croodles/svg?seed=" + txId + "&backgroundColor=ffffff";
			} catch (error) { alert(error) }
		};

		document.getElementById("sweepPwBch").onclick = async () => {
			try {
			var wallet = await Wallet.named("tmazey");
			const sweepPk = document.querySelector("#sweepPk").value;
			//const bchAmountPw = document.querySelector("#sendAmountPw").value;
			const recipientPw = document.querySelector("#recipientAddress").value;
			var tempWallet = await Wallet.fromWIF(sweepPk);
			let bchBalancePw = await tempWallet.getBalance();
			bchBalanceObj = Object.values({...bchBalancePw});
			//console.log(bchBalanceObj[1]);
			let bchBal = bchBalanceObj[1];
				const { txId } = await tempWallet.send([
					{
					//cashaddr: wallet.getDepositAddress(),
					//value: bchAmountPw - 546,
					cashaddr: recipientPw,
					value: bchBal - 546,
					unit: "sat",
					},
				]);
			document.getElementById("swept").textContent = "txId: " + txId;
			document.getElementById("imagetxid4").src = "https://api.dicebear.com/6.x/croodles/svg?seed=" + txId + "&backgroundColor=ffffff";
			} catch (error) { alert(error) }
		};
	});
	</script>

	<script>
		document.getElementById("createPaymentRequest").onclick = async () => {
		const pAddress = document.querySelector("#address").value;
		const pAmount = document.querySelector("#amount").value;
		const pLabel = document.querySelector("#label").value;
		const pUrl = pAddress + "?amount=" + pAmount + "&label=" + pLabel;">";
		document.getElementById("payurl").textContent = pUrl;
		//location.href = pUrl;
		};
		document.getElementById("usePaymentRequest").onclick = async () => {
		const uPayUrl = document.querySelector("#upayurl").value;
		//const upUrl = uPayUrl;
		document.getElementById("usepayurl").textContent = uPayUrl;
		location.href = uPayUrl;
		};
	</script>

	<script>
		document.getElementById("signM").onclick = async () => {
		const sMessage = document.querySelector("#smessage").value;
		const wallet = await Wallet.named("mazey");
		wallet.cashaddr;
		sign = (await wallet.sign(sMessage)).signature;
		document.getElementById("signMessage").textContent = sign;
		};
		document.getElementById("verifyM").onclick = async () => {
		const vAddress = document.querySelector("#vaddress").value;
		const signatureHash = document.querySelector("#signH").value;
		someWallet = await Wallet.watchOnly(vAddress);
		verifyResult = await someWallet.verify(vAddress, signatureHash);
		document.getElementById("verifyMessage").textContent = verifyResult.valid;
		};
	</script>
</body>
</html>